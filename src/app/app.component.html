<ion-app>
  <ion-menu side="start" menuId="main-menu" contentId="main">
    <ion-header>
      <ion-toolbar>
        <ion-title>Blog App</ion-title>
        <ion-note slot="end" *ngIf="!isOnline" color="warning">Offline</ion-note>
        <ion-note slot="end" *ngIf="isOnline" color="success">Online</ion-note>
        <ion-spinner *ngIf="isSyncing" name="dots" slot="end"></ion-spinner>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item [routerLink]="['/blogs']">
          <ion-icon name="book-outline" slot="start"></ion-icon>
          <ion-label>Blogs</ion-label>
        </ion-item>
        <ion-item (click)="sincronizarDatosPendientes()" button [disabled]="!isOnline || isSyncing">
          <ion-icon name="sync-outline" slot="start"></ion-icon>
          <ion-label>Sincronizar datos</ion-label>
          <ion-spinner *ngIf="isSyncing" name="dots" slot="end"></ion-spinner>
        </ion-item>
        <ion-item (click)="instalarPwa()" button *ngIf="canInstall">
          <ion-icon name="download-outline" slot="start"></ion-icon>
          <ion-label>Instalar aplicación</ion-label>
        </ion-item>
        <ion-item (click)="suscribirNotificaciones()" button *ngIf="isOnline">
          <ion-icon name="notifications-outline" slot="start"></ion-icon>
          <ion-label>Activar notificaciones</ion-label>
        </ion-item>
        <ion-item (click)="logout()" button>
          <ion-icon name="log-out-outline" slot="start"></ion-icon>
          <ion-label>Cerrar sesión</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>
  <ion-router-outlet id="main"></ion-router-outlet>
</ion-app>
